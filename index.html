<!DOCTYPE html>
<html>
<head>
    <title>Student Evaluation Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="
https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/lib/index.min.js
"></script>
<link href="
https://cdn.jsdelivr.net/npm/tailwindcss@3.3.5/lib/css/preflight.min.css
" rel="stylesheet">
<script src="//unpkg.com/alpinejs@3.0.6" defer></script>
<script src="
https://cdn.jsdelivr.net/npm/@tailwindcss/forms@0.5.7/src/index.min.js
"></script>
</head>
<body>
    <h2>Student Evaluation Form</h2>
    <!-- Student Name -->
    <div>
        <label id="listbox-label-student" class="block text-sm font-medium leading-6 text-gray-900">Student Name</label>
        <div class="relative mt-2">
          <button type="button" class="relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label-student">
            <span class="block truncate">Select Student</span>
            <!-- SVG and styles -->
          </button>
          <ul class="absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label-student">
            <!-- Student Names -->
            <!-- Repeat this structure for each student name -->
            <li class="text-gray-900 relative cursor-default select-none py-2 pl-3 pr-9" id="listbox-option-student-0" role="option">
              <span class="font-normal block truncate">Arnie Sillins</span>
              <!-- SVG for selected item -->
            </li>
            <!-- More student names... -->
          </ul>
        </div>
      </div>      
    <!-- Teacher Name -->
    <div>
        <label id="listbox-label-tone" class="block text-sm font-medium leading-6 text-gray-900">Tone</label>
        <div class="relative mt-2">
          <button type="button" class="relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label-tone">
            <span class="block truncate">Select Tone</span>
            <!-- SVG and styles -->
          </button>
          <ul class="absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label-tone">
            <!-- Tone Options -->
            <li class="text-gray-900 relative cursor-default select-none py-2 pl-3 pr-9" id="listbox-option-tone-0" role="option">
              <span class="font-normal block truncate">Encouraging and Supportive</span>
              <!-- SVG for selected item -->
            </li>
            <!-- More tone options... -->
          </ul>
        </div>
      </div>
            

    <table id="evaluationMatrix">
        <!-- Table Headers -->
        <tr>
            <th>Key Area</th>
            <th>Subcategory</th>
            <th>Scoring Criteria</th>
            <th>Score</th>
        </tr>

        <!-- Each row corresponds to a category with a dropdown for scores -->
        <!-- Repeat this structure for each category -->
        <tr>
            <td>Academics</td>
            <td>Writing/Reading</td>
            <td>Proficiency Level</td>
            <td>
                <select class="score">
                    <option value="Excellent">Excellent</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Improvement">Needs Improvement</option>
                </select>
            </td>

            <td>Math Understanding & Application</td>
            <td>Proficiency Level</td>
            <td>
                <select class="score">
                    <option value="Excellent">Excellent</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Improvement">Needs Improvement</option>
                </select>
            </td>

            <td>Hands-On Learning</td>
            <td>Proficiency Level</td>
            <td>
                <select class="score">
                    <option value="Excellent">Excellent</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Improvement">Needs Improvement</option>
                </select>
            </td>

            <td>Attendance</td>
            <td>Class Attendance</td>
            <td>Consistency & Punctuality</td>
            <td>
                <select class="score">
                    <option value="Excellent">Excellent</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Improvement">Needs Improvement</option>
                </select>
            </td>

            <td>Professionalism</td>
            <td>Time Management</td>
            <td>Task Prioritization	& Efficiency</td>
            <td>
                <select class="score">
                    <option value="Excellent">Excellent</option>
                    <option value="Good">Good</option>
                    <option value="Fair">Fair</option>
                    <option value="Needs Improvement">Needs Improvement</option>
                </select>
            </td>

        </tr>
        <!-- Add other categories in similar fashion -->
    </table>
    <div>
        <label>Tone:</label>
        <select id="tone">
            <option value="Encouraging and Supportive">Encouraging and Supportive</option>
            <option value="Constructive and Objective">Constructive and Objective</option>
            <option value="Thoughtful and Reflective">Thoughtful and Reflective</option>
            <option value="Serious and Concerned">Serious and Concerned</option>
            <option value="Motivational and Inspiring">Motivational and Inspiring</option>
            <option value="Compassionate and Understanding">Compassionate and Understanding</option>
        </select>
    </div>

    <div>
        <button id="generateEvaluation">Generate Evaluation</button>
    </div>

    <div id="evaluationOutput"></div>

    <script src="script.js"></script>
</body>
</html>

<script>
document.addEventListener('DOMContentLoaded', () => {
    initializeDropdown('studentName', 'Select Student');
    initializeDropdown('teacherName', 'Select Teacher');
    initializeDropdown('tone', 'Select Tone');
    document.getElementById('generateEvaluation').addEventListener('click', generateEvaluation);
});

function initializeDropdown(dropdownId, defaultText) {
    const labelId = `listbox-label-${dropdownId}`;
    const dropdown = document.getElementById(dropdownId);
    const button = dropdown.querySelector('button');
    const list = dropdown.querySelector('ul');
    const options = list.querySelectorAll('li');

    button.innerText = defaultText;

    options.forEach(option => {
        option.addEventListener('click', () => {
            button.innerText = option.textContent;
            list.classList.add('hidden'); // Hide the list after selection
        });
    });

    button.addEventListener('click', () => {
        list.classList.toggle('hidden'); // Toggle list visibility
    });
}

function generateEvaluation() {
    const studentName = document.querySelector('#listbox-label-student + div button').textContent;
    const teacherName = document.querySelector('#listbox-label-teacher + div button').textContent;
    const tone = document.querySelector('#listbox-label-tone + div button').textContent;

    // Assuming you have logic to gather scores from the matrix
    const scores = '...'; // Replace this with your actual score gathering logic

    let evaluationText = `Narrative evaluation for student name ${studentName}, from ${teacherName}. The sentiment of the written evaluation will be ${tone}. The student generally performed according to these measurements: ${scores}.`;

    document.getElementById('evaluationOutput').innerText = evaluationText;
}

</script>